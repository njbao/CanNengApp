{"version":3,"sources":["uni-app:///main.js","webpack:///D:/bao/work/HBuilderX/workspace/CanNengApp/pages/information/information.vue?f964","webpack:///D:/bao/work/HBuilderX/workspace/CanNengApp/pages/information/information.vue?01ce","webpack:///D:/bao/work/HBuilderX/workspace/CanNengApp/pages/information/information.vue?73d0","webpack:///D:/bao/work/HBuilderX/workspace/CanNengApp/pages/information/information.vue?f528","uni-app:///pages/information/information.vue","webpack:///D:/bao/work/HBuilderX/workspace/CanNengApp/pages/information/information.vue?a18f","webpack:///D:/bao/work/HBuilderX/workspace/CanNengApp/pages/information/information.vue?f97e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8G,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4I5nB;AACA,MADA,kBACA;AACA;AACA,eADA,EACA;AACA,oBAFA;AAGA,wBAHA;AAIA,kBAJA;AAKA,sBALA;AAMA,qBANA;AAOA,yBAPA;AAQA,sBARA;AASA,mBATA;AAUA,qBAVA;AAWA,uBAXA;AAYA,oBAZA;AAaA,sBAbA;AAcA,sBAdA;AAeA,2BAfA;AAgBA,yBAhBA;AAiBA,yBAjBA;AAkBA,eAlBA;AAmBA,2BAnBA;AAoBA,wBApBA;AAqBA,0BArBA;AAsBA,oBAtBA;AAuBA,iBAvBA;AAwBA,eAxBA;AAyBA,sBAzBA;AA0BA,6BA1BA;AA2BA,0BA3BA;AA4BA,4BA5BA;AA6BA,gBA7BA;AA8BA,sBA9BA;AA+BA,qBA/BA;AAgCA,kBAhCA;AAiCA,oBAjCA;;AAmCA,GArCA;AAsCA;AACA,uBADA,+BACA,CADA,EACA;AACA;AACA,KAHA;AAIA,uBAJA,+BAIA,CAJA,EAIA;AACA;AACA,KANA;AAOA,sBAPA,8BAOA,CAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzBA;AA0BA,qBA1BA,6BA0BA,CA1BA,EA0BA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KA9CA;AA+CA,oBA/CA,4BA+CA,CA/CA,EA+CA;AACA;AACA,KAjDA;AAkDA,oBAlDA,4BAkDA,CAlDA,EAkDA;AACA;AACA,KApDA;AAqDA,mBArDA,2BAqDA,CArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvEA;AAwEA,kBAxEA,0BAwEA,CAxEA,EAwEA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3FA;AA4FA,sBA5FA,8BA4FA,CA5FA,EA4FA;AACA;AACA,KA9FA;AA+FA,sBA/FA,8BA+FA,CA/FA,EA+FA;AACA;AACA,KAjGA;AAkGA,qBAlGA,6BAkGA,CAlGA,EAkGA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApHA;AAqHA,oBArHA,4BAqHA,CArHA,EAqHA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,EAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxIA;AAyIA,WAzIA,qBAyIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjJA;AAkJA,aAlJA,qBAkJA,MAlJA,EAkJA;AACA;AACA;AACA;AACA,KAtJA;AAuJA,qBAvJA,6BAuJA,CAvJA,EAuJA;AACA;AACA;AACA,KA1JA;AA2JA,0BA3JA,kCA2JA,gBA3JA,EA2JA,aA3JA,EA2JA,kBA3JA,EA2JA,KA3JA,EA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4HADA;;AAGA,KAxKA;AAyKA,gBAzKA,wBAyKA,QAzKA,EAyKA,WAzKA,EAyKA,eAzKA,EAyKA,KAzKA,EAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFADA;;AAGA,KAtLA;AAuLA,kBAvLA,0BAuLA,QAvLA,EAuLA,WAvLA,EAuLA,iBAvLA,EAuLA,KAvLA,EAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFADA;;AAGA,KApMA;AAqMA;AACA,oBAtMA,8BAsMA;AACA;AACA;AACA,kDADA;AAEA,sBAFA;AAGA;AACA,8CADA;AAEA,6CAFA;AAGA,6CAHA,EAHA;;AAQA;AACA,6DADA,EARA;;AAWA,wBAXA;AAYA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAlBA;AAmBA;AACA;AACA,SArBA;;AAuBA,KA/NA;AAgOA;AACA,sBAjOA,gCAiOA;AACA;AACA;AACA;AACA,2DADA;AAEA,wBAFA;AAGA;AACA,yDADA;AAEA,sCAFA;AAGA,mBAHA,EAHA;;AAQA;AACA,+DADA,EARA;;AAWA,0BAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAdA,MAcA;AACA;AACA,2BADA;AAEA,mCAFA;AAGA,iCAHA;AAIA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA;AACA,iBAXA;;AAaA;AACA,WA3CA;AA4CA;AACA;AACA;AACA,yBADA;AAEA,uCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,eAVA;;AAYA,WA1DA;;AA4DA;AACA,KAjSA;AAkSA,qBAlSA,6BAkSA,IAlSA,EAkSA,IAlSA,EAkSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzTA;AA0TA,qBA1TA,+BA0TA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjUA;AAkUA;AACA,mBAnUA,6BAmUA;AACA;AACA;AACA;AACA,wDADA;AAEA,wBAFA;AAGA;AACA,yDADA;AAEA,mCAFA;AAGA,mBAHA,EAHA;;AAQA;AACA,+DADA,EARA;;AAWA,0BAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAdA,MAcA;AACA;AACA,2BADA;AAEA,mCAFA;AAGA,iCAHA;AAIA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA;AACA,iBAXA;;AAaA;AACA,WA3CA;AA4CA;AACA;AACA;AACA,yBADA;AAEA,uCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,eAVA;;AAYA,WA1DA;;AA4DA;AACA,KAnYA;AAoYA,kBApYA,0BAoYA,IApYA,EAoYA,IApYA,EAoYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3ZA;AA4ZA,kBA5ZA,4BA4ZA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnaA;AAoaA;AACA,qBAraA,+BAqaA;AACA;AACA;AACA;AACA,0DADA;AAEA,wBAFA;AAGA;AACA,yDADA;AAEA,qCAFA;AAGA,mBAHA,EAHA;;AAQA;AACA,+DADA,EARA;;AAWA,0BAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAdA,MAcA;AACA;AACA,2BADA;AAEA,mCAFA;AAGA,iCAHA;AAIA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA;AACA,iBAXA;;AAaA;AACA,WA3CA;AA4CA;AACA;AACA;AACA,yBADA;AAEA,uCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,eAVA;;AAYA,WA1DA;;AA4DA;AACA,KAreA;AAseA,oBAteA,4BAseA,IAteA,EAseA,IAteA,EAseA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7fA;AA8fA,oBA9fA,8BA8fA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KArgBA;AAsgBA,aAtgBA,uBAsgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA,kBADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,kBADA;;AAGA;AACA,KA3hBA;AA4hBA,WA5hBA,qBA4hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAMA,KAhjBA,EAtCA;;AAwlBA,QAxlBA,oBAwlBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GApnBA;AAqnBA,QArnBA,kBAqnBA,CArnBA,EAqnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAJA;AAKA,GApoBA;AAqoBA,mBAroBA,+BAqoBA;AACA;AACA;AACA;AACA,KAFA,EAEA,IAFA;AAGA,GA1oBA,E;;;;;;;;;;;;;AC5IA;AAAA;AAAA;AAAA;AAA23B,CAAgB,02BAAG,EAAC,C;;;;;;;;;;;ACA/4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/information/information.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/information/information.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./information.vue?vue&type=template&id=293111e0&\"\nvar renderjs\nimport script from \"./information.vue?vue&type=script&lang=js&\"\nexport * from \"./information.vue?vue&type=script&lang=js&\"\nimport style0 from \"./information.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/information/information.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=template&id=293111e0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      0\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"data-body\" >\r\n\t\t<view class=\"title-padding\">\r\n\t\t\t\r\n\t\t</view>\r\n\t     <view class=\"data-title\">\r\n\t     \t<view class=\"data-title-text\">\r\n\t     \t\t实时信息\r\n\t     \t</view>\r\n\t     </view>\r\n\t\t <!-- tab选项 -->\r\n\t\t<view class=\"data-tab\">\r\n\t\t\t<view class=\"tab-click\" v-if=\"tabNum==1\">\r\n\t\t\t\t\t\t暂态事件消息\r\n\t\t\t\t<view class=\"tab-noread-num-transient\" v-if=\"transientShowNum!=0\">\r\n\t\t\t\t\t{{transientShowNum}}\r\n\t\t\t\t</view>\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab\" v-else  @click='changeTab(1)'>\r\n\t\t\t\t\t\t暂态事件消息\r\n\t\t\t\t<view class=\"tab-noread-num-transient\" v-if=\"transientShowNum!=0\">\r\n\t\t\t\t\t{{transientShowNum}}\r\n\t\t\t\t</view>\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-click\" v-if=\"tabNum==2\">\r\n\t\t\t\t\t\t稳态越限消息\r\n\t\t\t\t<view class=\"tab-noread-num-steady\" v-if=\"steadyShowNum!=0\">\r\n\t\t\t\t\t{{steadyShowNum}}\r\n\t\t\t\t</view>\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab\" v-else @click='changeTab(2)'>\r\n\t\t\t\t\t\t稳态越限消息\r\n\t\t\t\t<view class=\"tab-noread-num-steady\" v-if=\"steadyShowNum!=0\">\r\n\t\t\t\t\t{{steadyShowNum}}\r\n\t\t\t\t</view>\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-click\" v-if=\"tabNum==3\">\r\n\t\t\t\t\t\t终端状态消息\r\n\t\t\t\t<view class=\"tab-noread-num-terminal\" v-if=\"terminalShowNum!=0\">\r\n\t\t\t\t\t{{terminalShowNum}}\r\n\t\t\t\t</view>\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab\" v-else @click='changeTab(3)'>\r\n\t\t\t\t\t\t终端状态消息\r\n\t\t\t\t<view class=\"tab-noread-num-terminal\" v-if=\"terminalShowNum!=0\">\r\n\t\t\t\t\t{{terminalShowNum}}\r\n\t\t\t\t</view>\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pull-block\" :style=\"{height:pullHeight}\" v-if=\"pullFlag==1\">\r\n\t\t\t{{pullText}}\r\n\t\t</view>\r\n\t\t<swiper  :style=\"{height:scrollHeight}\" :current=\"current\" @change=\"changeTabBySwiper\" duration=\"300\" skip-hidden-item-layout=\"true\">\r\n\t\t\t<swiper-item>\r\n\t\t\t\t<view class=\"transient-block\"  :style=\"{height:scrollHeight}\" @touchmove=\"transientTouchmove\" @touchstart=\"transientTouchstart\" @touchend=\"transientTouchend\">\r\n\t\t\t\t\t<scroll-view :scroll-y=\"scrollFlag\"  @scrolltolower=\"queryTransientList()\" @lower-threshold='0' :style=\"{height:scrollHeight}\" @scroll='transientScrollMove'  v-if=\"transientList.length>0\">\r\n\t\t\t\t\t\t\t<view class=\"transient-event-block\" @click=\"jumpToTransientDetails(transient.eventDetailIndex,transient.eventMsgIndex,transientListIndex,transient.state)\" v-for=\"(transient,transientListIndex) in transientList\">\r\n\t\t\t\t\t\t\t\t<view class=\"transient-event\">\r\n\t\t\t\t\t\t\t\t\t<image src=\"../../static/pic/transient.png\" class=\"transient-event-pic\"></image>\r\n\t\t\t\t\t\t\t\t\t<image src=\"../../static/pic/dot.png\" class=\"transient-event-noread\" v-if=\"transient.state==0\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"transient-event-content\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"line-one\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{transient.lineName}}\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t于{{transient.showTime}}发生暂降事件\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t特征幅值:{{transient.eventValue}}%,持续时间:{{transient.persistTime}}s\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"line-two\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"line-two-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t台账信息：\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"line-two-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{transient.lineInfo}}\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view class=\"no-data\" :style=\"{height:scrollHeight}\" v-else>\r\n\t\t\t\t\t\t{{noTransient}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</swiper-item>\r\n\t\t\t<swiper-item>\r\n\t\t\t\t<view class=\"transient-block\"  :style=\"{height:scrollHeight}\" @touchmove=\"steadyTouchmove\" @touchstart=\"steadyTouchstart\" @touchend=\"steadyTouchend\">\r\n\t\t\t\t\t<scroll-view :scroll-y=\"scrollFlag\" style=\"\" @scrolltolower=\"querySteadyList\" :style=\"{height:scrollHeight}\" @scroll='steadyScrollMove' v-if=\"steadyList.length>0\">\r\n\t\t\t\t\t<view class=\"steady-event-block\" @click=\"jumpToSteady(steady.showTime,steady.steadyIndex,steadyListIndex,steady.state)\"  v-for=\"(steady,steadyListIndex) in steadyList\">\r\n\t\t\t\t\t\t<view class=\"steady-event\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/pic/steady.png\" class=\"steady-event-pic\"></image>\r\n\t\t\t\t\t\t\t<image src=\"../../static/pic/dot.png\" class=\"transient-event-noread\" v-if=\"steady.state==0\"></image>\r\n\t\t\t\t\t\t\t<view class=\"transient-event-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t{{steady.showTime}}\r\n\t\t\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t发生稳态越限监测点{{steady.lineNum}}个\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view class=\"no-data\" :style=\"{height:scrollHeight}\" v-else>\r\n\t\t\t\t\t\t{{noSteady}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</swiper-item>\r\n\t\t\t<swiper-item>\r\n\t\t\t\t<view class=\"transient-block\"  :style=\"{height:scrollHeight}\" @touchmove=\"terminalTouchmove\" @touchstart=\"terminalTouchstart\" @touchend=\"terminalTouchend\">\r\n\t\t\t\t\t<scroll-view :scroll-y=\"scrollFlag\"  @scrolltolower=\"queryTerminalList()\" :style=\"{height:scrollHeight}\" @scroll='terminalScrollMove' v-if=\"terminalList.length>0\">\r\n\t\t\t\t\t<view class=\"steady-event-block\" @click=\"jumpToTerminal(terminal.showTime,terminal.devMsgIndex,terminalListIndex,terminal.state)\" v-for=\"(terminal,terminalListIndex) in terminalList\">\r\n\t\t\t\t\t\t<view class=\"steady-event\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/pic/terminal.png\" class=\"steady-event-pic\"></image>\r\n\t\t\t\t\t\t\t<image src=\"../../static/pic/dot.png\" class=\"transient-event-noread\" v-if=\"terminal.state==0\"></image>\r\n\t\t\t\t\t\t\t<view class=\"transient-event-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t{{terminal.showTime}}\r\n\t\t\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t终端异常共{{terminal.limitNum}}台\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view class=\"no-data\" :style=\"{height:scrollHeight}\" v-else>\r\n\t\t\t\t\t\t{{noTerminal}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t\ttabNum:1,//1-暂态 2-稳态 3-终端状态\r\n\t\t\t\t\tterminalNum:0,\r\n\t\t\t\t\tterminalShowNum:0,\r\n\t\t\t\t\tsteadyNum:0,\r\n\t\t\t\t\tsteadyShowNum:0,\r\n\t\t\t\t\ttransientNum:0,\r\n\t\t\t\t\ttransientShowNum:0,\r\n\t\t\t\t\ttransientPage:1,\r\n\t\t\t\t\tsteadyPage:1,\r\n\t\t\t\t\tterminalPage:1,\r\n\t\t\t\t\ttransientList:[],\r\n\t\t\t\t\tsteadyList:[],\r\n\t\t\t\t\tterminalList:[],\r\n\t\t\t\t\tscrollHeight:'',\r\n\t\t\t\t\teventMsgIndexList:[],\r\n\t\t\t\t\tsteadyIndexList:[],\r\n\t\t\t\t\tdevMsgIndexList:[],\r\n\t\t\t\t\tallNum:0,\r\n\t\t\t\t\ttransientScrollTop:0,\r\n\t\t\t\t\tsteadyScrollTop:0,\r\n\t\t\t\t\tterminalScrollTop:0,\r\n\t\t\t\t\tpullHeight:'',\r\n\t\t\t\t\tpullFlag:0,\r\n\t\t\t\t\tstartY:0,\r\n\t\t\t\t\tpullText:'下拉刷新',\r\n\t\t\t\t\ttransientRefreshFlag:0,\r\n\t\t\t\t\tsteadyRefreshFlag:0,\r\n\t\t\t\t\tterminalRefreshFlag:0,\r\n\t\t\t\t\tcurrent:0,\r\n\t\t\t\t\tscrollFlag:true,\r\n\t\t\t\t\tnoTransient:'',\r\n\t\t\t\t\tnoSteady:'',\r\n\t\t\t\t\tnoTerminal:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttransientScrollMove(e){\r\n\t\t\t\tthis.transientScrollTop = e.detail.scrollTop;\r\n\t\t\t},\r\n\t\t\ttransientTouchstart(e){\r\n\t\t\t\tthis.startY = e.touches[0].clientY;\r\n\t\t\t},\r\n\t\t\ttransientTouchmove(e){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tif(that.transientScrollTop<2){\r\n\t\t\t\t\tvar h =  e.changedTouches[0].clientY - that.startY;\r\n\t\t\t\t\tif(h>66||h<0){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}else if(h<33){\r\n\t\t\t\t\t\tthat.pullText='下拉刷新';\r\n\t\t\t\t\t\tthat.pullHeight =h+'px';\r\n\t\t\t\t\t\tthat.pullFlag=1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.pullText = '加载中...';\r\n\t\t\t\t\t\tthat.pullHeight =h+'px';\r\n\t\t\t\t\t\tthat.pullFlag=1;\r\n\t\t\t\t\t\tthat.transientRefreshFlag=1;\r\n\t\t\t\t\t\tthat.communicateState();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttransientTouchend(e){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.scrollFlag=false;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tthat.scrollFlag=true;\r\n\t\t\t\t},30)\r\n\t\t\t\tthat.transientScrollTop=0;\r\n\t\t\t\tthat.pullHeight='';\r\n\t\t\t\tthat.startY=0;\r\n\t\t\t\tthat.pullText='下拉刷新';\r\n\t\t\t\tthat.pullFlag=0;\r\n\t\t\t\tif(that.transientRefreshFlag==1){\r\n\t\t\t\t\tthat.transientRefreshFlag=0;\r\n\t\t\t\t\tthat.transientList=[];\r\n\t\t\t\t\tthat.noTransient = '';\r\n\t\t\t\t\tthat.transientNum=0;\r\n\t\t\t\t\tthat.transientPage=1;\r\n\t\t\t\t\tthat.queryTransientList();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tsteadyScrollMove(e){\r\n\t\t\t\tthis.steadyScrollTop = e.detail.scrollTop;\r\n\t\t\t},\r\n\t\t\tsteadyTouchstart(e){\r\n\t\t\t\tthis.startY = e.touches[0].clientY;\r\n\t\t\t},\r\n\t\t\tsteadyTouchmove(e){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tif(that.steadyScrollTop<2){\r\n\t\t\t\t\tvar h =  e.changedTouches[0].clientY - that.startY;\r\n\t\t\t\t\tif(h>66||h<0){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}else if(h<33){\r\n\t\t\t\t\t\tthat.pullText='下拉刷新';\r\n\t\t\t\t\t\tthat.pullHeight =h+'px';\r\n\t\t\t\t\t\tthat.pullFlag=1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.pullText = '加载中...';\r\n\t\t\t\t\t\tthat.pullHeight =h+'px';\r\n\t\t\t\t\t\tthat.pullFlag=1;\r\n\t\t\t\t\t\tthat.steadyRefreshFlag=1;\r\n\t\t\t\t\t\tthat.communicateState();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsteadyTouchend(e){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.scrollFlag=false;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tthat.scrollFlag=true;\r\n\t\t\t\t},30)\r\n\t\t\t\tthat.steadyScrollTop=0;\r\n\t\t\t\tthat.pullHeight='';\r\n\t\t\t\tthat.startY=0;\r\n\t\t\t\tthat.pullText='下拉刷新';\r\n\t\t\t\tthat.pullFlag=0;\r\n\t\t\t\tif(that.steadyRefreshFlag==1){\r\n\t\t\t\t\tthat.steadyRefreshFlag=0;\r\n\t\t\t\t\tthat.steadyList=[];\r\n\t\t\t\t\tthat.noSteady = '';\r\n\t\t\t\t\tthat.steadyNum=0;\r\n\t\t\t\t\tthat.steadyPage=1;\r\n\t\t\t\t\tthat.querySteadyList();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tterminalScrollMove(e){\r\n\t\t\t\tthis.terminalScrollTop = e.detail.scrollTop;\r\n\t\t\t},\r\n\t\t\tterminalTouchstart(e){\r\n\t\t\t\tthis.startY = e.touches[0].clientY;\r\n\t\t\t},\r\n\t\t\tterminalTouchmove(e){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tif(that.terminalScrollTop<2){\r\n\t\t\t\t\tvar h =  e.changedTouches[0].clientY - that.startY;\r\n\t\t\t\t\tif(h>66||h<0){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}else if(h<33){\r\n\t\t\t\t\t\tthat.pullText='下拉刷新';\r\n\t\t\t\t\t\tthat.pullHeight =h+'px';\r\n\t\t\t\t\t\tthat.pullFlag=1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.pullText = '加载中...';\r\n\t\t\t\t\t\tthat.pullHeight =h+'px';\r\n\t\t\t\t\t\tthat.pullFlag=1;\r\n\t\t\t\t\t\tthat.terminalRefreshFlag=1;\r\n\t\t\t\t\t\tthat.communicateState();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tterminalTouchend(e){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tthat.scrollFlag=false;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tthat.scrollFlag=true;\r\n\t\t\t\t},30)\r\n\t\t\t\tthat.terminalScrollTop=0;\r\n\t\t\t\tthat.pullHeight='';\r\n\t\t\t\tthat.startY=0;\r\n\t\t\t\tthat.pullText='下拉刷新';\r\n\t\t\t\tthat.pullFlag=0;\r\n\t\t\t\tif(that.terminalRefreshFlag==1){\r\n\t\t\t\t\tthat.terminalRefreshFlag=0;\r\n\t\t\t\t\tthat.terminalList=[];\r\n\t\t\t\t\tthat.noTerminal = '';\r\n\t\t\t\t\tthat.terminalNum=0;\r\n\t\t\t\t\tthat.terminalPage=1;\r\n\t\t\t\t\tthat.queryTerminalList();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollH(){\r\n\t\t\t\tvar that =this;\r\n\t\t\t\tvar sys = uni.getSystemInfoSync();\r\n\t\t\t\tvar winWidth = sys.windowWidth;\r\n\t\t\t\tvar winrate = 750/winWidth;\r\n\t\t\t\tvar winHeight= sys.windowHeight;\r\n\t\t\t\tvar statusBarHeight = sys.statusBarHeight;\r\n\t\t\t\tthat.scrollHeight = parseInt((winHeight-statusBarHeight)*winrate-152)+'rpx';\r\n\t\t\t},\r\n\t\t\tchangeTab(tabNum){\r\n\t\t\t\tvar that=this;\r\n\t\t\t\tthat.current=tabNum-1;\r\n\t\t\t\tthat.tabNum=tabNum;\r\n\t\t\t},\r\n\t\t\tchangeTabBySwiper(e){\r\n\t\t\t\tthis.tabNum=e.detail.current+1;\r\n\t\t\t\tthis.current=e.detail.current;\r\n\t\t\t},\r\n\t\t\tjumpToTransientDetails(eventDetailIndex,eventMsgIndex,transientListIndex,state){\r\n\t\t\t\tvar that =this;\r\n\t\t\t\tif(that.transientNum>0&&state==0){\r\n\t\t\t\t\tthat.transientNum--;\r\n\t\t\t\t\tthat.eventMsgIndexList.push(eventMsgIndex);\r\n\t\t\t\t\tthat.transientList[transientListIndex].state=1;\r\n\t\t\t\t}\r\n\t\t\t\tthat.judgeTransientNum();\r\n\t\t\t\tthat.setAllNum();\r\n\t\t\t\tthat.communicateState();\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../transientDetails/transientDetails?eventDetailIndex='+eventDetailIndex+\"&eventMsgIndex=\"+eventMsgIndex\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tjumpToSteady(showTime,steadyIndex,steadyListIndex,state){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.steadyNum>0&&state==0){\r\n\t\t\t\t\tthat.steadyNum--;\r\n\t\t\t\t\tthat.steadyIndexList.push(steadyIndex);\r\n\t\t\t\t\tthat.steadyList[steadyListIndex].state=1;\r\n\t\t\t\t}\r\n\t\t\t\tthat.judgeSteadyNum();\r\n\t\t\t\tthat.setAllNum();\r\n\t\t\t\tthat.communicateState();\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../steady/steady?steadyIndex='+steadyIndex+\"&showTime=\"+showTime\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tjumpToTerminal(showTime,devMsgIndex,terminalListIndex,state){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.terminalNum>0&&state==0){\r\n\t\t\t\t\tthat.terminalNum--;\r\n\t\t\t\t\tthat.devMsgIndexList.push(devMsgIndex);\r\n\t\t\t\t\tthat.terminalList[terminalListIndex].state=1;\r\n\t\t\t\t}\r\n\t\t\t\tthat.judgeTerminalNum();\r\n\t\t\t\tthat.setAllNum();\r\n\t\t\t\tthat.communicateState();\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../terminal/terminal?devMsgIndex='+devMsgIndex+\"&showTime=\"+showTime\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 同步读取状态\r\n\t\t\tcommunicateState(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t    url: that.serverUrl+'/cleanmsg/clearMsg', \r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t    data: {\r\n\t\t\t\t       eventMsgList:that.eventMsgIndexList,\r\n\t\t\t\t\t   steadyMsgList:that.steadyIndexList,\r\n\t\t\t\t\t   deviceMsgList:that.devMsgIndexList\r\n\t\t\t\t    },\r\n\t\t\t\t    header: {\r\n\t\t\t\t        'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t    },\r\n\t\t\t\t\tsslVerify:false,\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\tif(res.data.resultCode=='10000'){\r\n\t\t\t\t\t\t\tconsole.log('同步成功')\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log('同步失败')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    },\r\n\t\t\t\t\tfail:(re)=>{\r\n\t\t\t\t\t\tconsole.log('同步网络异常')\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 暂态\r\n\t\t\tqueryTransientList(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.judgeLogin()){\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t    url: that.serverUrl+'/eventmsg/eventDetailList', \r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t    data: {\r\n\t\t\t\t\t       userId:uni.getStorageSync('userInfo').userId,\r\n\t\t\t\t\t\t   page:that.transientPage++,\r\n\t\t\t\t\t\t   num:20\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    header: {\r\n\t\t\t\t\t        'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tsslVerify:false,\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tif(res.data.resultCode=='10000'){\r\n\t\t\t\t\t\t\t\tthat.transientNum=res.data.unstate;\r\n\t\t\t\t\t\t\t\tthat.judgeTransientNum();\r\n\t\t\t\t\t\t\t\tvar list =[];\r\n\t\t\t\t\t\t\t\tlist = that.countTransientNum(eval(res.data.data),1);\r\n\t\t\t\t\t\t\t\tif(that.transientPage==2){\r\n\t\t\t\t\t\t\t\t\tthat.transientList = []\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(list!=null&&list!=undefined&&list!=''&&list!=[]){\r\n\t\t\t\t\t\t\t\t\tthat.transientList = that.transientList.concat(list);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(that.transientList.length==0){\r\n\t\t\t\t\t\t\t\t\tthat.noTransient = '暂无暂态消息'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t\t    content: '查询失败，请重试',\r\n\t\t\t\t\t\t\t\t\tconfirmText:'重试',\r\n\t\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.transientPage--;\r\n\t\t\t\t\t\t\t\t            that.queryTransientList();\r\n\t\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tfail:(re)=>{\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t    content: '网络或服务器异常，请稍后再试',\r\n\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t            console.log('用户点击确定');\r\n\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcountTransientNum(list,type){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(type==1){\r\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\t// if(list[i].state==0&&that.transientNum!='99+'){\r\n\t\t\t\t\t\t// \tthat.transientNum++;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tlist[i].showTime = that.formatTime_mills(list[i].timeID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar num=0\r\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\tif(list[i].state==0){\r\n\t\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.transientNum=num;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.setAllNum();\r\n\t\t\t\t// if(that.transientNum>99){\r\n\t\t\t\t// \tthat.transientNum='99+'\r\n\t\t\t\t// }\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\t\t\tjudgeTransientNum(){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tif(that.transientNum>99){\r\n\t\t\t\t\tthat.transientShowNum='99+'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.transientShowNum=that.transientNum\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//稳态\r\n\t\t\tquerySteadyList(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.judgeLogin()){\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t    url: that.serverUrl+'/steadymsg/steadyState', \r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t    data: {\r\n\t\t\t\t\t       userId:uni.getStorageSync('userInfo').userId,\r\n\t\t\t\t\t\t   page:that.steadyPage++,\r\n\t\t\t\t\t\t   num:20\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    header: { \r\n\t\t\t\t\t        'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tsslVerify:false,\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tif(res.data.resultCode=='10000'){\r\n\t\t\t\t\t\t\t\tthat.steadyNum=res.data.unstate;\r\n\t\t\t\t\t\t\t\tthat.judgeSteadyNum();\r\n\t\t\t\t\t\t\t\tvar list =[];\r\n\t\t\t\t\t\t\t\tlist = that.countSteadyNum(eval(res.data.data),1);\r\n\t\t\t\t\t\t\t\tif(that.steadyPage==2){\r\n\t\t\t\t\t\t\t\t\tthat.steadyList =[]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(list!=null&&list!=undefined&&list!=''&&list!=[]){\r\n\t\t\t\t\t\t\t\t\tthat.steadyList = that.steadyList.concat(list);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(that.steadyList.length == 0){\r\n\t\t\t\t\t\t\t\t\tthat.noSteady = '暂无稳态越限消息'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t\t    content: '查询失败，请重试',\r\n\t\t\t\t\t\t\t\t\tconfirmText:'重试',\r\n\t\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.steadyPage--;\r\n\t\t\t\t\t\t\t\t            that.querySteadyList();\r\n\t\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tfail:(re)=>{\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t    content: '网络或服务器异常，请稍后再试',\r\n\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t            console.log('用户点击确定');\r\n\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcountSteadyNum(list,type){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(type==1){\r\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\t// if(list[i].state==0&&that.steadyNum!='99+'){\r\n\t\t\t\t\t\t// \tthat.steadyNum++;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tlist[i].showTime = that.formatTime(list[i].timeID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar num=0\r\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\tif(list[i].state==0){\r\n\t\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.steadyNum=num;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.setAllNum();\r\n\t\t\t\t// if(that.steadyNum>99){\r\n\t\t\t\t// \tthat.steadyNum='99+'\r\n\t\t\t\t// }\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\t\t\tjudgeSteadyNum(){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tif(that.steadyNum>99){\r\n\t\t\t\t\tthat.steadyShowNum='99+'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.steadyShowNum=that.steadyNum\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//终端\r\n\t\t\tqueryTerminalList(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(that.judgeLogin()){\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t    url: that.serverUrl+'/deviceMsg/deviceMsgList', \r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t    data: {\r\n\t\t\t\t\t       userId:uni.getStorageSync('userInfo').userId,\r\n\t\t\t\t\t\t   page:that.terminalPage++,\r\n\t\t\t\t\t\t   num:20\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t    header: {\r\n\t\t\t\t\t        'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tsslVerify:false,\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tif(res.data.resultCode=='10000'){\r\n\t\t\t\t\t\t\t\tthat.terminalNum=res.data.unstate;\r\n\t\t\t\t\t\t\t\tthat.judgeTerminalNum();\r\n\t\t\t\t\t\t\t\tvar list =[];\r\n\t\t\t\t\t\t\t\tlist= that.countTerminalNum(eval(res.data.data),1);\r\n\t\t\t\t\t\t\t\tif(that.terminalPage==2){\r\n\t\t\t\t\t\t\t\t\tthat.terminalList=[]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(list!=null&&list!=undefined&&list!=''&&list!=[]){\r\n\t\t\t\t\t\t\t\t\tthat.terminalList = that.terminalList.concat(list);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(that.terminalList.length==0){\r\n\t\t\t\t\t\t\t\t\tthat.noTerminal='暂无终端状态信息'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t\t    content: '查询失败，请重试',\r\n\t\t\t\t\t\t\t\t\tconfirmText:'重试',\r\n\t\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.terminalPage--;\r\n\t\t\t\t\t\t\t\t            that.queryTerminalList();\r\n\t\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\tfail:(re)=>{\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t    content: '网络或服务器异常，请稍后再试',\r\n\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t            console.log('用户点击确定');\r\n\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcountTerminalNum(list,type){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(type==1){\r\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\t// if(list[i].state==0&&that.terminalNum!='99+'){\r\n\t\t\t\t\t\t// \tthat.terminalNum++;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tlist[i].showTime = that.formatTime(list[i].timeID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar num=0\r\n\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\tif(list[i].state==0){\r\n\t\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.terminalNum=num;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// if(that.terminalNum>99){\r\n\t\t\t\t// \tthat.terminalNum='99+'\r\n\t\t\t\t// }\r\n\t\t\t\tthat.setAllNum();\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\t\t\tjudgeTerminalNum(){\r\n\t\t\t\tvar that= this;\r\n\t\t\t\tif(that.terminalNum>99){\r\n\t\t\t\t\tthat.terminalShowNum='99+'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.terminalShowNum=that.terminalNum\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetAllNum(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar allNum=parseInt(that.steadyNum)+parseInt(that.terminalNum)+parseInt(that.transientNum);\r\n\t\t\t\t// console.log(\"setAllNum\")\r\n\t\t\t\tuni.setStorageSync(\"allNum\",allNum);\r\n\t\t\t\tif(allNum>99){\r\n\t\t\t\t\tallNum='99+'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tallNum=''+allNum\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(allNum!=0){\r\n\t\t\t\t\tuni.setTabBarBadge({\r\n\t\t\t\t\t  index: 0,\r\n\t\t\t\t\t  text: allNum\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.removeTabBarBadge({\r\n\t\t\t\t\t\tindex: 0\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefresh(){\r\n\t\t\t\tthis.communicateState();\r\n\t\t\t\tthis.transientList=[];\r\n\t\t\t\tthis.steadyList=[];\r\n\t\t\t\tthis.terminalList=[];\r\n\t\t\t\tthis.noTransient = '';\r\n\t\t\t\tthis.noSteady = '';\r\n\t\t\t\tthis.noTerminal = '';\r\n\t\t\t\tthis.steadyNum=0;\r\n\t\t\t\tthis.terminalNum=0;\r\n\t\t\t\tthis.transientNum=0;\r\n\t\t\t\tthis.terminalPage=1;\r\n\t\t\t\tthis.steadyPage=1;\r\n\t\t\t\tthis.transientPage=1;\r\n\t\t\t\tthis.$nextTick(function(){\r\n\t\t\t\t\tthis.queryTransientList();\r\n\t\t\t\t\tthis.querySteadyList();\r\n\t\t\t\t\tthis.queryTerminalList();\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tvar that =this;\r\n\t\t\tvar tabNum = uni.getStorageSync(\"tabNum\");\r\n\t\t\tif(tabNum){\r\n\t\t\t\tthat.refresh();\r\n\t\t\t\tthat.tabNum = tabNum;\r\n\t\t\t\tthat.current=tabNum-1;\r\n\t\t\t\tuni.removeStorageSync(\"tabNum\");\r\n\t\t\t\t// if(tabNum==1){\r\n\t\t\t\t// \tthat.transientList=[];\r\n\t\t\t\t// \tthat.transientNum=0;\r\n\t\t\t\t// \tthat.transientPage=1;\r\n\t\t\t\t// \tthat.communicateState();\r\n\t\t\t\t// \tthat.queryTransientList();\r\n\t\t\t\t// }else if(tabNum==2){\r\n\t\t\t\t// \tthat.steadyList=[];\r\n\t\t\t\t// \tthat.steadyNum=0;\r\n\t\t\t\t// \tthat.steadyPage=1;\r\n\t\t\t\t// \tthat.communicateState();\r\n\t\t\t\t// \tthat.querySteadyList();\r\n\t\t\t\t// }else{\r\n\t\t\t\t// \tthat.terminalList=[];\r\n\t\t\t\t// \tthat.terminalNum=0;\r\n\t\t\t\t// \tthat.terminalPage=1;\r\n\t\t\t\t// \tthat.communicateState();\r\n\t\t\t\t// \tthat.queryTerminalList();\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tvar that = this;\r\n\t\t\t// var userInfo = {};\r\n\t\t\t// userInfo.userId = '00c37ea1-b5ff-4f35-ba15-51e1c7363e20';\r\n\t\t\t// userInfo.roleCode=2;\r\n\t\t\t// uni.setStorageSync('userInfo',userInfo);\r\n\t\t\tthat.queryTransientList();\r\n\t\t\tthat.querySteadyList();\r\n\t\t\tthat.queryTerminalList();\r\n\t\t\tthat.scrollH();\r\n\t\t\tuni.$on(\"tabNum\",function(data){\r\n\t\t\t\tthat.refresh();\r\n\t\t\t\tthat.tabNum=data;\r\n\t\t\t\tthat.current=data-1;\r\n\t\t\t})\r\n\t\t},\r\n\t\tonPullDownRefresh(){\r\n\t\t\tthis.refresh();\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t            uni.stopPullDownRefresh();\r\n\t\t\t        }, 2000);\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n@import url(\"information.css\");\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1649639634235\n      var cssReload = require(\"D:/bao/work/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}